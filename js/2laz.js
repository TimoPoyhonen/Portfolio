!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function i(){var b=0;j.each(function(){var c=a(this);if(!g.skip_invisible||c.is(":visible")){if(a.abovethetop(this,g)||a.leftofbegin(this,g));else if(a.belowthefold(this,g)||a.rightoffold(this,g)){if(++b>g.failure_limit)return!1}else c.trigger("appear"),b=0}})}var h,j=this,g={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(g,f)),h=g.container===d||g.container===b?e:a(g.container),0===g.event.indexOf("scroll")&&h.bind(g.event,function(){return i()}),this.each(function(){var c=this,b=a(c);c.loaded=!1,(b.attr("src")===d|| !1===b.attr("src"))&&b.is("img")&&b.attr("src",g.placeholder),b.one("appear",function(){if(!this.loaded){if(g.appear){var d=j.length;g.appear.call(c,d,g)}a("<img />").bind("load",function(){var d=b.attr("data-"+g.data_attribute);b.hide(),b.is("img")?b.attr("src",d):b.css("background-image","url('"+d+"')"),b[g.effect](g.effect_speed),c.loaded=!0;var e=a.grep(j,function(a){return!a.loaded});if(j=a(e),g.load){var f=j.length;g.load.call(c,f,g)}}).attr("src",b.attr("data-"+g.data_attribute))}}),0!==g.event.indexOf("scroll")&&b.bind(g.event,function(){c.loaded||b.trigger("appear")})}),e.bind("resize",function(){i()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&j.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){i()}),this},a.belowthefold=function(f,c){return(c.container===d||c.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(c.container).offset().top+a(c.container).height())<=a(f).offset().top-c.threshold},a.rightoffold=function(f,c){return(c.container===d||c.container===b?e.width()+e.scrollLeft():a(c.container).offset().left+a(c.container).width())<=a(f).offset().left-c.threshold},a.abovethetop=function(f,c){return(c.container===d||c.container===b?e.scrollTop():a(c.container).offset().top)>=a(f).offset().top+c.threshold+a(f).height()},a.leftofbegin=function(f,c){return(c.container===d||c.container===b?e.scrollLeft():a(c.container).offset().left)>=a(f).offset().left+c.threshold+a(f).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document)